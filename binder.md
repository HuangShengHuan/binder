# Binder驱动

Binder驱动是由系统创建的C++进程，专门用来接收和转发其他进程的通讯信息；



## 原理

Binder驱动会为每一个进程，根据其pid分配一份内存，而每个进程会把自己的aidl一一注册进这份内存中；

在客户端进程需要访问服务端进程时，会将需要访问的服务端的aidl信息传进Binder驱动中（应该是**DESCRIPTOR**这个常量），

Binder驱动根据客户端的访问信息，在其内存中查找对应aidl的服务端进程，然后将信息传递给它。

服务端进程在接收信息之后，会将其Binder引用通过Binder驱动传递回来，最终交给了客户端进程。

也就是说：

* 客户端进程之所以要拷贝一份与服务端进程相同的aidl信息，其目的:

1. 通过该aidl中的信息（**DESCRIPTOR**），提交给Binder驱动，找到对应的服务端进程；
2. 服务端在接收到绑定请求时，在其onBind方法中会返回Binder引用，此时，在客户端进程中能够通过该aidl将Binder引用转化为对应的接口引用；





